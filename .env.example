# ============================================================
# Das ELB AI Email Agent — Environment Variables
# ============================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to git — add it to .gitignore

# --- Google Gemini API ---
# Get your key at: https://aistudio.google.com/app/apikey (free to start)
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.5-pro
GEMINI_MAX_TOKENS=2048
GEMINI_TEMPERATURE=0.3

# --- IONOS Exchange Email (info@das-elb.de) ---
# info@das-elb.de is a IONOS Microsoft Exchange account.
# ⚠️  Use Exchange-specific servers below — NOT imap.ionos.com / smtp.ionos.com.
#
# BEFORE the agent can connect, you MUST enable IMAP in the Exchange Admin Tool:
#   1. Go to https://xadmin.exchange.ionos.com
#   2. Log in with info@das-elb.de and your Exchange password
#   3. Click "Connectivity Settings" → check "IMAP" → click "Apply"
#   4. Wait ~60 minutes for IMAP to activate on IONOS servers
#
# IONOS_EMAIL_PASSWORD = the Exchange account password (same one used to log into OWA).
HOTEL_EMAIL=info@das-elb.de
IONOS_IMAP_HOST=exchange.ionos.eu
IONOS_IMAP_PORT=993
IONOS_SMTP_HOST=smtp.exchange.ionos.eu
IONOS_SMTP_PORT=587
IONOS_EMAIL_PASSWORD=your-exchange-password-here

# --- Hotel APIs (existing, no changes needed) ---
HOTEL_MGMT_API_BASE=https://daselb-management-os-v2-api-912934217177.europe-west3.run.app
RESERVATIONS_API_BASE=https://das-elb-backend.onrender.com

# --- Database ---
# For development: SQLite (auto-created, zero setup)
DATABASE_URL=sqlite+aiosqlite:///./daselb_agent.db
# For production: PostgreSQL
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/daselb_agent

# --- Email Polling ---
# How often to check for new emails (seconds). 180 = every 3 minutes.
POLL_INTERVAL_SECONDS=180

# --- Dashboard Security ---
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
DASHBOARD_API_KEY=change-me-to-a-strong-random-token
CORS_ORIGINS=http://localhost:3001,https://admin.das-elb-hotel.com

# --- WhatsApp Notifications (Phase 3 — optional) ---
# Sign up at https://www.twilio.com and enable WhatsApp sandbox
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886
MANAGER_WHATSAPP=whatsapp:+49XXXXXXXXXX

# --- Feature Flags ---
# NEVER set ENABLE_AUTO_SEND=true without extensive staff review first
ENABLE_AUTO_SEND=false
ENABLE_WHATSAPP_NOTIFICATIONS=false
ENABLE_COMPETITOR_RATES=false
